"use strict";var C=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var q=(s,e)=>{for(var o in e)C(s,o,{get:e[o],enumerable:!0})},T=(s,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of x(e))!P.call(s,n)&&n!==o&&C(s,n,{get:()=>e[n],enumerable:!(r=v(e,n))||r.enumerable});return s};var b=s=>T(C({},"__esModule",{value:!0}),s);var S={};q(S,{createCheckout:()=>y,default:()=>A,listAllCheckouts:()=>R,retrieveCheckout:()=>f});module.exports=b(S);var O=require("undici"),g=require("path");async function p({apiKey:s,apiVersion:e="v1",baseUrl:o="https://api.lemonsqueezy.com",data:r,headers:n,include:d,method:a="GET",page:m,params:l,path:L}){try{let i=new URL((0,g.join)(e,L),o);d&&i.searchParams.append("include",d.map(c=>h[c]).join(",")),m&&i.searchParams.append("page",m.toString()),l&&a==="GET"&&Object.entries(l).forEach(([c,t])=>i.searchParams.append(c,t));let u=await(0,O.fetch)(i.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${s}`,"Content-Type":"application/vnd.api+json",...n},method:a,...r&&a!=="GET"?{body:JSON.stringify(r)}:{}});if(!u.ok){let c=await u.json();throw{status:u.status,message:u.statusText,errors:c.errors}}let k=await u.json();if(k.errors&&k.errors.length>0)throw k;return k}catch(i){throw i}}var h=(t=>(t.checkouts="checkouts",t.customers="customers",t.discounts="discounts",t.files="files",t.license_key_instances="license-key-instances",t.license_keys="license-keys",t.order_items="order-items",t.orders="orders",t.products="products",t.stores="stores",t.subscriptions="subscriptions",t.subscription_invoices="subscription-invoices",t.users="users",t.variants="variants",t))(h||{});async function y(s){let{checkout_data:e,checkout_options:o,custom_price:r,expires_at:n,product_options:d,store:a,variant:m,...l}=s;return p({data:{data:{attributes:{checkout_data:e,checkout_options:o,custom_price:r,expires_at:n,product_options:d},relationships:{store:{data:{id:a,type:"stores"}},variant:{data:{id:m,type:"variants"}}},type:"checkouts"}},path:"/checkouts",method:"POST",...l})}async function R(s){let{storeId:e,variantId:o,...r}=s;return p({params:{...e?{store_id:e}:{},...o?{variant_id:o}:{}},path:"/checkouts",...r})}async function f(s){let{id:e,...o}=s;return p({path:`/checkouts/${e}`,...o})}var A={createCheckout:y,listAllCheckouts:R,retrieveCheckout:f};0&&(module.exports={createCheckout,listAllCheckouts,retrieveCheckout});
//# sourceMappingURL=checkout.js.map