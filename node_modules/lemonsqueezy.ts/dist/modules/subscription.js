"use strict";var R=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var A=(t,e)=>{for(var r in e)R(t,r,{get:e[r],enumerable:!0})},T=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of x(e))!P.call(t,i)&&i!==r&&R(t,i,{get:()=>e[i],enumerable:!(o=L(e,i))||o.enumerable});return t};var q=t=>T(R({},"__esModule",{value:!0}),t);var k={};A(k,{default:()=>_,listAllSubscriptions:()=>y,retrieveSubscription:()=>h,updateSubscription:()=>g});module.exports=q(k);var O=require("undici"),v=require("path");async function d({apiKey:t,apiVersion:e="v1",baseUrl:r="https://api.lemonsqueezy.com",data:o,headers:i,include:n,method:a="GET",page:m,params:b,path:f}){try{let p=new URL((0,v.join)(e,f),r);n&&p.searchParams.append("include",n.map(c=>l[c]).join(",")),m&&p.searchParams.append("page",m.toString()),b&&a==="GET"&&Object.entries(b).forEach(([c,s])=>p.searchParams.append(c,s));let u=await(0,O.fetch)(p.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...i},method:a,...o&&a!=="GET"?{body:JSON.stringify(o)}:{}});if(!u.ok){let c=await u.json();throw{status:u.status,message:u.statusText,errors:c.errors}}let S=await u.json();if(S.errors&&S.errors.length>0)throw S;return S}catch(p){throw p}}var l=(s=>(s.checkouts="checkouts",s.customers="customers",s.discounts="discounts",s.files="files",s.license_key_instances="license-key-instances",s.license_keys="license-keys",s.order_items="order-items",s.orders="orders",s.products="products",s.stores="stores",s.subscriptions="subscriptions",s.subscription_invoices="subscription-invoices",s.users="users",s.variants="variants",s))(l||{});async function y(t){let{orderId:e,orderItemId:r,productId:o,storeId:i,variantId:n,...a}=t;return d({params:{...e?{order_id:e}:{},...r?{order_item_id:r}:{},...o?{product_id:o}:{},...i?{store_id:i}:{},...n?{variant_id:n}:{}},path:"/subscriptions",...a})}async function h(t){let{id:e,...r}=t;return d({path:`/subscriptions/${e}`,...r})}async function g(t){let{billingAnchor:e,cancelled:r,id:o,pause:i,productId:n,variantId:a,invoiceImmediately:m,disableProrations:b,...f}=t;return d({data:{data:{attributes:{billing_anchor:e,cancelled:r,pause:i,product_id:n,variant_id:a,invoice_immediately:m,disable_prorations:b},id:o,type:"subscriptions"}},path:`/subscriptions/${o}`,method:"PATCH",...f})}var _={listAllSubscriptions:y,retrieveSubscription:h,updateSubscription:g};0&&(module.exports={listAllSubscriptions,retrieveSubscription,updateSubscription});
//# sourceMappingURL=subscription.js.map