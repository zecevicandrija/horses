"use strict";var d=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var A=(t,e)=>{for(var r in e)d(t,r,{get:e[r],enumerable:!0})},P=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of F(e))!b.call(t,i)&&i!==r&&d(t,i,{get:()=>e[i],enumerable:!(o=v(e,i))||o.enumerable});return t};var T=t=>P(d({},"__esModule",{value:!0}),t);var q={};A(q,{default:()=>S,listAllFiles:()=>f,retrieveFile:()=>R});module.exports=T(q);var O=require("undici"),L=require("path");async function u({apiKey:t,apiVersion:e="v1",baseUrl:r="https://api.lemonsqueezy.com",data:o,headers:i,include:g,method:m="GET",page:h,params:y,path:x}){try{let n=new URL((0,L.join)(e,x),r);g&&n.searchParams.append("include",g.map(p=>c[p]).join(",")),h&&n.searchParams.append("page",h.toString()),y&&m==="GET"&&Object.entries(y).forEach(([p,s])=>n.searchParams.append(p,s));let a=await(0,O.fetch)(n.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...i},method:m,...o&&m!=="GET"?{body:JSON.stringify(o)}:{}});if(!a.ok){let p=await a.json();throw{status:a.status,message:a.statusText,errors:p.errors}}let l=await a.json();if(l.errors&&l.errors.length>0)throw l;return l}catch(n){throw n}}var c=(s=>(s.checkouts="checkouts",s.customers="customers",s.discounts="discounts",s.files="files",s.license_key_instances="license-key-instances",s.license_keys="license-keys",s.order_items="order-items",s.orders="orders",s.products="products",s.stores="stores",s.subscriptions="subscriptions",s.subscription_invoices="subscription-invoices",s.users="users",s.variants="variants",s))(c||{});async function f(t){let{variantId:e,...r}=t;return u({params:{...e?{variant_id:e}:{}},path:"/files",...r})}async function R(t){let{id:e,...r}=t;return u({path:`/files/${e}`,...r})}var S={listAllFiles:f,retrieveFile:R};0&&(module.exports={listAllFiles,retrieveFile});
//# sourceMappingURL=file.js.map