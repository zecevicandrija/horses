import{fetch as g}from"undici";import{join as h}from"node:path";async function c({apiKey:r,apiVersion:s="v1",baseUrl:t="https://api.lemonsqueezy.com",data:n,headers:d,include:l,method:m="GET",page:v,params:b,path:S}){try{let i=new URL(h(s,S),t);l&&i.searchParams.append("include",l.map(a=>u[a]).join(",")),v&&i.searchParams.append("page",v.toString()),b&&m==="GET"&&Object.entries(b).forEach(([a,e])=>i.searchParams.append(a,e));let o=await g(i.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${r}`,"Content-Type":"application/vnd.api+json",...d},method:m,...n&&m!=="GET"?{body:JSON.stringify(n)}:{}});if(!o.ok){let a=await o.json();throw{status:o.status,message:o.statusText,errors:a.errors}}let p=await o.json();if(p.errors&&p.errors.length>0)throw p;return p}catch(i){throw i}}var u=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(u||{});async function f(r){let{refunded:s,status:t,storeId:n,...d}=r;return c({params:{...s?{refunded:s}:{},...t?{status:t}:{},...n?{store_id:n}:{}},path:"/subscription-invoices",...d})}async function R(r){let{id:s,...t}=r;return c({path:`/subscription-invoices/${s}`,...t})}var E={listAllSubscriptionInvoices:f,retrieveSubscriptionInvoice:R};export{E as default,f as listAllSubscriptionInvoices,R as retrieveSubscriptionInvoice};
//# sourceMappingURL=subscriptionInvoice.mjs.map