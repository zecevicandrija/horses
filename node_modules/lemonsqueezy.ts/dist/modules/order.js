"use strict";var l=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var P=(r,e)=>{for(var t in e)l(r,t,{get:e[t],enumerable:!0})},T=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of b(e))!A.call(r,n)&&n!==t&&l(r,n,{get:()=>e[n],enumerable:!(o=v(e,n))||o.enumerable});return r};var S=r=>T(l({},"__esModule",{value:!0}),r);var k={};P(k,{default:()=>q,listAllOrders:()=>O,retrieveOrder:()=>f});module.exports=S(k);var y=require("undici"),L=require("path");async function u({apiKey:r,apiVersion:e="v1",baseUrl:t="https://api.lemonsqueezy.com",data:o,headers:n,include:R,method:m="GET",page:g,params:h,path:x}){try{let i=new URL((0,L.join)(e,x),t);R&&i.searchParams.append("include",R.map(p=>c[p]).join(",")),g&&i.searchParams.append("page",g.toString()),h&&m==="GET"&&Object.entries(h).forEach(([p,s])=>i.searchParams.append(p,s));let a=await(0,y.fetch)(i.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${r}`,"Content-Type":"application/vnd.api+json",...n},method:m,...o&&m!=="GET"?{body:JSON.stringify(o)}:{}});if(!a.ok){let p=await a.json();throw{status:a.status,message:a.statusText,errors:p.errors}}let d=await a.json();if(d.errors&&d.errors.length>0)throw d;return d}catch(i){throw i}}var c=(s=>(s.checkouts="checkouts",s.customers="customers",s.discounts="discounts",s.files="files",s.license_key_instances="license-key-instances",s.license_keys="license-keys",s.order_items="order-items",s.orders="orders",s.products="products",s.stores="stores",s.subscriptions="subscriptions",s.subscription_invoices="subscription-invoices",s.users="users",s.variants="variants",s))(c||{});async function O(r){let{storeId:e,userEmail:t,...o}=r;return u({params:{...e?{store_id:e}:{},...t?{user_email:t}:{}},path:"/orders",...o})}async function f(r){let{id:e,...t}=r;return u({path:`/orders/${e}`,...t})}var q={listAllOrders:O,retrieveOrder:f};0&&(module.exports={listAllOrders,retrieveOrder});
//# sourceMappingURL=order.js.map