import{fetch as O}from"undici";import{join as v}from"node:path";async function p({apiKey:r,apiVersion:s="v1",baseUrl:n="https://api.lemonsqueezy.com",data:m,headers:g,include:d,method:c="GET",page:l,params:f,path:h}){try{let t=new URL(v(s,h),n);d&&t.searchParams.append("include",d.map(o=>u[o]).join(",")),l&&t.searchParams.append("page",l.toString()),f&&c==="GET"&&Object.entries(f).forEach(([o,e])=>t.searchParams.append(o,e));let i=await O(t.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${r}`,"Content-Type":"application/vnd.api+json",...g},method:c,...m&&c!=="GET"?{body:JSON.stringify(m)}:{}});if(!i.ok){let o=await i.json();throw{status:i.status,message:i.statusText,errors:o.errors}}let a=await i.json();if(a.errors&&a.errors.length>0)throw a;return a}catch(t){throw t}}var u=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(u||{});async function R(r){let{productId:s,...n}=r;return p({params:{...s?{product_id:s}:{}},path:"/variants",...n})}async function y(r){let{id:s,...n}=r;return p({path:`/variants/${s}`,...n})}var E={listAllVariants:R,retrieveVariant:y};export{E as default,R as listAllVariants,y as retrieveVariant};
//# sourceMappingURL=variant.mjs.map