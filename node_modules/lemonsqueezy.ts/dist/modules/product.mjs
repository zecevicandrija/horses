import{fetch as y}from"undici";import{join as O}from"node:path";async function u({apiKey:r,apiVersion:s="v1",baseUrl:o="https://api.lemonsqueezy.com",data:d,headers:g,include:m,method:c="GET",page:l,params:f,path:h}){try{let t=new URL(O(s,h),o);m&&t.searchParams.append("include",m.map(i=>p[i]).join(",")),l&&t.searchParams.append("page",l.toString()),f&&c==="GET"&&Object.entries(f).forEach(([i,e])=>t.searchParams.append(i,e));let n=await y(t.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${r}`,"Content-Type":"application/vnd.api+json",...g},method:c,...d&&c!=="GET"?{body:JSON.stringify(d)}:{}});if(!n.ok){let i=await n.json();throw{status:n.status,message:n.statusText,errors:i.errors}}let a=await n.json();if(a.errors&&a.errors.length>0)throw a;return a}catch(t){throw t}}var p=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(p||{});async function P(r){let{storeId:s,...o}=r;return u({params:{...s?{store_id:s}:{}},path:"/products",...o})}async function R(r){let{id:s,...o}=r;return u({path:`/products/${s}`,...o})}var B={listAllProducts:P,retrieveProduct:R};export{B as default,P as listAllProducts,R as retrieveProduct};
//# sourceMappingURL=product.mjs.map