import{fetch as y}from"undici";import{join as L}from"node:path";async function d({apiKey:o,apiVersion:s="v1",baseUrl:r="https://api.lemonsqueezy.com",data:a,headers:g,include:m,method:c="GET",page:l,params:O,path:h}){try{let t=new URL(L(s,h),r);m&&t.searchParams.append("include",m.map(i=>u[i]).join(",")),l&&t.searchParams.append("page",l.toString()),O&&c==="GET"&&Object.entries(O).forEach(([i,e])=>t.searchParams.append(i,e));let n=await y(t.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${o}`,"Content-Type":"application/vnd.api+json",...g},method:c,...a&&c!=="GET"?{body:JSON.stringify(a)}:{}});if(!n.ok){let i=await n.json();throw{status:n.status,message:n.statusText,errors:i.errors}}let p=await n.json();if(p.errors&&p.errors.length>0)throw p;return p}catch(t){throw t}}var u=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(u||{});async function f(o){let{storeId:s,userEmail:r,...a}=o;return d({params:{...s?{store_id:s}:{},...r?{user_email:r}:{}},path:"/orders",...a})}async function R(o){let{id:s,...r}=o;return d({path:`/orders/${s}`,...r})}var B={listAllOrders:f,retrieveOrder:R};export{B as default,f as listAllOrders,R as retrieveOrder};
//# sourceMappingURL=order.mjs.map