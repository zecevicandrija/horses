import{fetch as y}from"undici";import{join as O}from"node:path";async function i({apiKey:t,apiVersion:p="v1",baseUrl:u="https://api.lemonsqueezy.com",data:l,headers:g,include:m,method:c="GET",page:d,params:f,path:h}){try{let s=new URL(O(p,h),u);m&&s.searchParams.append("include",m.map(o=>a[o]).join(",")),d&&s.searchParams.append("page",d.toString()),f&&c==="GET"&&Object.entries(f).forEach(([o,e])=>s.searchParams.append(o,e));let r=await y(s.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...g},method:c,...l&&c!=="GET"?{body:JSON.stringify(l)}:{}});if(!r.ok){let o=await r.json();throw{status:r.status,message:r.statusText,errors:o.errors}}let n=await r.json();if(n.errors&&n.errors.length>0)throw n;return n}catch(s){throw s}}var a=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(a||{});async function R(t){return i({path:"/stores",...t})}async function S(t){let{id:p,...u}=t;return i({path:`/stores/${p}`,...u})}var B={listAllStores:R,retrieveStore:S};export{B as default,R as listAllStores,S as retrieveStore};
//# sourceMappingURL=store.mjs.map