import{fetch as h}from"undici";import{join as O}from"node:path";async function d({apiKey:n,apiVersion:s="v1",baseUrl:t="https://api.lemonsqueezy.com",data:i,headers:p,include:c,method:m="GET",page:y,params:L,path:g}){try{let r=new URL(O(s,g),t);c&&r.searchParams.append("include",c.map(a=>l[a]).join(",")),y&&r.searchParams.append("page",y.toString()),L&&m==="GET"&&Object.entries(L).forEach(([a,e])=>r.searchParams.append(a,e));let o=await h(r.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${n}`,"Content-Type":"application/vnd.api+json",...p},method:m,...i&&m!=="GET"?{body:JSON.stringify(i)}:{}});if(!o.ok){let a=await o.json();throw{status:o.status,message:o.statusText,errors:a.errors}}let u=await o.json();if(u.errors&&u.errors.length>0)throw u;return u}catch(r){throw r}}var l=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(l||{});async function f(n){let{orderId:s,orderItemId:t,productId:i,storeId:p,...c}=n;return d({params:{...s?{order_id:s}:{},...t?{order_item_id:t}:{},...i?{product_id:i}:{},...p?{store_id:p}:{}},path:"/license-keys",...c})}async function R(n){let{id:s,...t}=n;return d({path:`/license-keys/${s}`,...t})}var E={listAllLicenseKeys:f,retrieveLicenseKey:R};export{E as default,f as listAllLicenseKeys,R as retrieveLicenseKey};
//# sourceMappingURL=licenseKey.mjs.map